{"version":3,"sources":["../../server/routes/profileRouter.js"],"names":["ProfileRouter","router","passport","userAuthenticated","post","req","res","paramToUpdate","Object","keys","body","user","updateAttributes","bioText","then","status","send","message","catch","profileImg"],"mappings":";;;;;AAAA;;AAEO,IAAMA,wCAAgB,SAAhBA,aAAgB,CAASC,MAAT,EAAgBC,QAAhB,EAAyBC,iBAAzB,EAA2C;AACpEF,SAAOG,IAAP,CAAY,UAAZ,EAAwBD,iBAAxB,EACA,UAACE,GAAD,EAAMC,GAAN,EAAc;AACZ,QAAIC,gBAAgBC,OAAOC,IAAP,CAAYJ,IAAIK,IAAhB,EAAsB,CAAtB,CAApB;;AAEA,QAAKH,kBAAkB,SAAvB,EAAiC;AAC/BF,UAAIM,IAAJ,CAASC,gBAAT,CAA0B;AACxBC,iBAASR,IAAIK,IAAJ,CAASH,aAAT;AADe,OAA1B,EAEGO,IAFH,CAEQ,YAAM;AACZR,YAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,2BAAV,EAArB;AACD,OAJD,EAIGC,KAJH,CAIS,iBAAS;AAChBZ,YAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,oBAAV,EAArB;AACD,OAND;AAQD;;AAED,QAAIV,kBAAkB,YAAtB,EAAoC;AAClCF,UAAIM,IAAJ,CAASC,gBAAT,CAA0B;AACxBO,oBAAYd,IAAIK,IAAJ,CAASH,aAAT;AADY,OAA1B,EAEGO,IAFH,CAEQ,YAAM;AACZR,YAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAQ,gCAAT,EAArB;AACD,OAJD,EAIGC,KAJH,CAIS,iBAAS;AAChBZ,YAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,4BAAV,EAArB;AACD,OAND;AAOD;AACF,GAxBD;AA0BF,SAAOhB,MAAP;AAED,CA7BM","file":"profileRouter.js","sourcesContent":["/***** profileRouter.js - Profile routes *****/\r\n\r\nexport const ProfileRouter = function(router,passport,userAuthenticated){\r\n    router.post('/profile', userAuthenticated,\r\n    (req, res) => {         \r\n      let paramToUpdate = Object.keys(req.body)[0];   \r\n      \r\n      if ( paramToUpdate === 'bioText'){\r\n        req.user.updateAttributes({\r\n          bioText: req.body[paramToUpdate],\r\n        }).then(() => {                   \r\n          res.status(200).send({message: 'Bio updated successfully!'});\r\n        }).catch(error => {          \r\n          res.status(406).send({message: 'Bio update failed.'});\r\n        })\r\n        \r\n      }         \r\n            \r\n      if( paramToUpdate === \"profileImg\" ){\r\n        req.user.updateAttributes({\r\n          profileImg: req.body[paramToUpdate],\r\n        }).then(() => {\r\n          res.status(200).send({message:'Profile pic upload successful.'})\r\n        }).catch(error => {\r\n          res.status(406).send({message: 'Profile pic upload failed.'})\r\n        })\r\n      }  \r\n    }\r\n  );\r\n  return router;\r\n\r\n}    "]}