{"version":3,"sources":["../../server/routes/inspirationRouter.js"],"names":["InspirationRouter","router","passport","inspirationModel","userAuthenticated","post","req","res","create","userId","user","id","image","body","description","then","inspiration","status","send","message","catch","console","log","error","get","findAndCountAll","attributes","where","json","inspirations","result","rows"],"mappings":";;;;;AAAA;;AAEO,IAAMA,gDAAoB,SAApBA,iBAAoB,CAASC,MAAT,EAAgBC,QAAhB,EAAyBC,gBAAzB,EAA0CC,iBAA1C,EAA4D;AACzFH,WAAOI,IAAP,CAAY,cAAZ,EAA4BD,iBAA5B,EACI,UAACE,GAAD,EAAMC,GAAN,EAAc;AACdJ,yBAAiBK,MAAjB,CAAwB,EAACC,QAAQH,IAAII,IAAJ,CAASC,EAAlB,EAAsBC,OAAON,IAAIO,IAAJ,CAASD,KAAtC,EAA6CE,aAAaR,IAAIO,IAAJ,CAASC,WAAnE,EAAxB,EACCC,IADD,CACM,UAACC,WAAD,EAAiB;AACnBT,gBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,iCAAV,EAArB;AACH,SAHD,EAGGC,KAHH,CAGS,iBAAS;AACdC,oBAAQC,GAAR,CAAYC,KAAZ;AACAhB,gBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,4BAAV,EAArB;AACH,SAND;AAOC,KATL;;AAYAlB,WAAOuB,GAAP,CAAW,cAAX,EAA2BpB,iBAA3B,EACI,UAACE,GAAD,EAAMC,GAAN,EAAc;AACVJ,yBACCsB,eADD,CACiB;AACbC,wBAAY,CAAC,IAAD,EAAM,OAAN,EAAc,aAAd,CADC;AAEbC,mBAAO;AACPlB,wBAAQH,IAAII,IAAJ,CAASC;AADV;AAFM,SADjB,EAMGI,IANH,CAMQ,kBAAU;AACdR,gBAAIU,MAAJ,CAAW,GAAX,EAAgBW,IAAhB,CAAqB,EAACC,cAAcC,OAAOC,IAAtB,EAArB;AACH,SARD,EAQGX,KARH,CAQS,iBAAS;AACdb,gBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAQ,qCAAT,EAArB;AACH,SAVD;AAWH,KAbL;AAeA,WAAOlB,MAAP;AACH,CA7BM","file":"inspirationRouter.js","sourcesContent":["/***** inspirationRouter.js - Inspiration routes *****/\r\n\r\nexport const InspirationRouter = function(router,passport,inspirationModel,userAuthenticated){\r\n    router.post('/inspiration', userAuthenticated,\r\n        (req, res) => {     \r\n        inspirationModel.create({userId: req.user.id, image: req.body.image, description: req.body.description})      \r\n        .then((inspiration) => {          \r\n            res.status(200).send({message: 'Inspiration successfully saved!'})        \r\n        }).catch(error => {\r\n            console.log(error);\r\n            res.status(406).send({message: 'Inspiration was not saved!'})\r\n        })\r\n        }\r\n    ); \r\n\r\n    router.get('/inspiration', userAuthenticated,\r\n        (req, res) => {\r\n            inspirationModel\r\n            .findAndCountAll({\r\n                attributes: ['id','image','description'],\r\n                where: {\r\n                userId: req.user.id\r\n                }\r\n            }).then(result => {\r\n                res.status(200).json({inspirations: result.rows});\r\n            }).catch(error => {\r\n                res.status(400).send({message:'Bad Request. Inspirations not sent!'})\r\n            });      \r\n        }\r\n    );\r\n    return router;\r\n}    "]}