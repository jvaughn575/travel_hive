{"version":3,"sources":["../../server/routes/userLoginRouter.js"],"names":["UserLoginRouter","router","passport","get","req","res","json","loggedIn","isAuthenticated","post","authenticate","message","user","username","bioText","profileImage","profileImg","logger","logout","send"],"mappings":";;;;;AAAA;;AAEO,IAAMA,4CAAkB,SAAlBA,eAAkB,CAASC,MAAT,EAAgBC,QAAhB,EAAyB;AACtDD,SAAOE,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAKC,GAAL,EAAa;AACjCA,QAAIC,IAAJ,CAAS,EAAEC,UAAUH,IAAII,eAAJ,EAAZ,EAAT;AACD,GAFH;;AAIEP,SAAOQ,IAAP,CAAY,OAAZ,EAAqBP,SAASQ,YAAT,CAAsB,YAAtB,CAArB,EACE,UAACN,GAAD,EAAKC,GAAL,EAAa;AACXA,QAAIC,IAAJ,CAAS;AACPK,eAAS,MADF;AAEPC,YAAMR,IAAIQ,IAAJ,CAASC;AAFR,KAAT;AAID,GANH;;AASAZ,SAAOQ,IAAP,CAAY,QAAZ,EAAsBP,SAASQ,YAAT,CAAsB,aAAtB,CAAtB,EACE,UAACN,GAAD,EAAMC,GAAN,EAAc;AACZA,QAAIC,IAAJ,CAAS;AACPK,eAAS,OADF;AAEPC,YAAMR,IAAIQ,IAAJ,CAASC,QAFR;AAGPC,eAASV,IAAIQ,IAAJ,CAASE,OAHX;AAIPC,oBAAcX,IAAIQ,IAAJ,CAASI;AAJhB,KAAT;AAMD,GARH;;AAWAf,SAAOE,GAAP,CAAW,SAAX,EACE,UAACC,GAAD,EAAMC,GAAN,EAAc;AACZY,WAAO,mBAAP,EAA2B,MAA3B;AACAb,QAAIc,MAAJ;AACAb,QAAIc,IAAJ,CAAS,GAAT;AACD,GALH;AAOA,SAAOlB,MAAP;AACH,CAjCM","file":"userLoginRouter.js","sourcesContent":["/***** userLoginRouter.js - User Login/Logout routes *****/\r\n\r\nexport const UserLoginRouter = function(router,passport){\r\n  router.get('/loggedIn', (req,res) => {\r\n      res.json({ loggedIn: req.isAuthenticated() });\r\n    });\r\n\r\n    router.post('/join', passport.authenticate('local-join'), \r\n      (req,res) => {\r\n        res.json({                  \r\n          message: \"join\",\r\n          user: req.user.username                                \r\n        });\r\n      }\r\n    );      \r\n        \r\n    router.post('/login', passport.authenticate('local-login'),     \r\n      (req, res) => {            \r\n        res.json({                   \r\n          message: \"login\",\r\n          user: req.user.username,\r\n          bioText: req.user.bioText,\r\n          profileImage: req.user.profileImg,        \r\n        });\r\n      }   \r\n    );    \r\n\r\n    router.get('/logout', \r\n      (req, res) => {      \r\n        logger(\"Logging User out!\",\"info\");\r\n        req.logout();\r\n        res.send(200);\r\n      }\r\n    );\r\n    return router;\r\n}"]}